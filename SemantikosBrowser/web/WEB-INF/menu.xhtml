<ui:composition 
    xmlns="http://www.w3.org/1999/xhtml"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:p="http://primefaces.org/ui"
    xmlns:pu="http://primefaces.org/ultima">
    
    <h:form id="menuform"> 
        <div class="layout-menu #{guestPreferences.menuClass}">
            <div class="nano">
                <div class="nano-content menu-scroll-content">
                    <ui:fragment rendered="#{guestPreferences.profileMode == 'inline' and guestPreferences.menuLayout != 'menu-layout-static menu-layout-horizontal'}">

                    </ui:fragment>

                    <pu:menu widgetVar="me" model="#{browserBean.menu}" rendered="#{not request.requestURI.contains('snomed')}"/>

                    <pu:menu widgetVar="me" model="#{browserSCTBean.menu}" rendered="#{request.requestURI.contains('snomed')}"/>

                    <pu:menu widgetVar="me" style="margin-top: 14px" rendered="false">
                        <p:menuitem id="um_dashboard" value="Inicio" icon="fa fa-home" outcome="/views/home" />
                        <p:menuitem id="um_back" value="Volver" icon="fa fa-arrow-left" outcome="/views/concepts" rendered="#{request.requestURI.contains('concept.')}" />
                        <p:submenu id="themes" label="Themes" icon="&#xE40A;" rendered="false">
                            <f:attribute name="badge" value="5" />
                            <p:menuitem id="theme1" value="Indigo - Pink" icon="&#xE3AE;" actionListener="#{guestPreferences.setTheme('indigo')}" ajax="false" />
                            <p:menuitem id="theme2" value="Brown - Green" icon="&#xE3AE;" actionListener="#{guestPreferences.setTheme('brown')}" ajax="false" />
                            <p:menuitem id="theme3" value="Blue - Amber" icon="&#xE3AE;" actionListener="#{guestPreferences.setTheme('blue')}" ajax="false" />
                            <p:menuitem id="theme4" value="Blue Grey - Green" icon="&#xE3AE;" actionListener="#{guestPreferences.setTheme('blue-grey')}" ajax="false" />
                            <p:menuitem id="theme5" value="Dark - Blue" icon="&#xE3AE;" actionListener="#{guestPreferences.setTheme('dark-blue')}" ajax="false" />
                            <p:menuitem id="theme6" value="Dark - Green" icon="&#xE3AE;" actionListener="#{guestPreferences.setTheme('dark-green')}" ajax="false" />
                            <p:menuitem id="theme7" value="Green - Yellow" icon="&#xE3AE;" actionListener="#{guestPreferences.setTheme('green')}" ajax="false" />
                            <p:menuitem id="theme8" value="Purple - Cyan" icon="&#xE3AE;" actionListener="#{guestPreferences.setTheme('purple-cyan')}" ajax="false" />
                            <p:menuitem id="theme9" value="Purple - Amber" icon="&#xE3AE;" actionListener="#{guestPreferences.setTheme('purple-amber')}" ajax="false" />
                            <p:menuitem id="theme10" value="Teal - Lime" icon="&#xE3AE;" actionListener="#{guestPreferences.setTheme('teal')}" ajax="false" />
                            <p:menuitem id="theme11" value="Cyan - Amber" icon="&#xE3AE;" actionListener="#{guestPreferences.setTheme('cyan')}" ajax="false" />
                            <p:menuitem id="theme12" value="Grey - Deep Orange" icon="&#xE3AE;" actionListener="#{guestPreferences.setTheme('grey')}" ajax="false" />
                        </p:submenu>
                        <p:submenu id="um_customization" label="Customization" icon="&#xE8B8;" styleClass="amber-badge" rendered="false">
                            <f:attribute name="badge" value="10" />
                            <p:menuitem id="custom1" value="Compact Size" icon="&#xE061;" actionListener="#{guestPreferences.setCompact(true)}" ajax="false"/>
                            <p:menuitem id="custom2" value="Material Size" icon="&#xE062;" actionListener="#{guestPreferences.setCompact(false)}" ajax="false"/>
                            <p:menuitem id="custom3" value="Static Menu" icon="&#xE5D2;" actionListener="#{guestPreferences.setMenuLayout('static')}" ajax="false"/>
                            <p:menuitem id="custom4" value="Overlay Menu" icon="&#xE879;" actionListener="#{guestPreferences.setMenuLayout('overlay')}" ajax="false"/>
                            <p:menuitem id="custom5" value="Slim Menu" icon="&#xE879;" actionListener="#{guestPreferences.setMenuLayout('slim')}" ajax="false"/>
                            <p:menuitem id="custom6" value="Horizontal Menu" icon="&#xE22C;" actionListener="#{guestPreferences.setMenuLayout('horizontal')}" ajax="false"/>
                            <p:menuitem id="custom7" value="Light Menu" icon="&#xE893;" actionListener="#{guestPreferences.setLightMenu}" ajax="false" />
                            <p:menuitem id="custom8" value="Dark Menu" icon="&#xE892;" actionListener="#{guestPreferences.setDarkMenu}" ajax="false"/>
                            <p:menuitem id="custom9" value="Inline Profile" icon="&#xE0BA;" actionListener="#{guestPreferences.setProfileMode('inline')}" ajax="false" />
                            <p:menuitem id="custom10" value="Top Profile" icon="&#xE55A;" actionListener="#{guestPreferences.setProfileMode('overlay')}" ajax="false"/>
                        </p:submenu>
                        <p:submenu id="um_hierarchy" label="Menu Hierarchy" icon="&#xE5D2;" rendered="false">
                            <p:submenu id="um_sm1" label="Submenu 1" icon="&#xE8D2;">
                                <p:submenu id="um_sm11" label="Submenu 1.1" icon="&#xE8D2;">
                                    <p:menuitem id="um_lnk111" value="Link 1.1.1" icon="&#xE8D2;" url="#" />
                                    <p:menuitem id="um_lnk112" value="Link 1.1.2" icon="&#xE8D2;" url="#" />
                                    <p:menuitem id="um_lnk113" value="Link 1.1.3" icon="&#xE8D2;" url="#" />
                                </p:submenu>
                                <p:submenu id="um_sm12" label="Submenu 1.2" icon="&#xE8D2;">
                                    <p:menuitem id="um_lnk121" value="Link 1.2.1" icon="&#xE8D2;" url="#" />
                                </p:submenu>
                            </p:submenu>
                            <p:submenu id="um_sm2" label="Submenu 2" icon="&#xE8D2;">
                                <p:submenu id="um_sm21" label="Submenu 2.1" icon="&#xE8D2;">
                                    <p:menuitem id="um_lnk211" value="Link 2.1.1" icon="&#xE8D2;" url="#" />
                                    <p:menuitem id="um_lnk212" value="Link 2.1.2" icon="&#xE8D2;" url="#" />
                                </p:submenu>
                                <p:submenu id="um_sm22" label="Submenu 2.2" icon="&#xE8D2;">
                                    <p:menuitem id="um_lnk221" value="Link 2.2.1" icon="&#xE8D2;" url="#" />
                                </p:submenu>
                            </p:submenu>
                        </p:submenu>
                        <p:menuitem id="um_utils" value="Utils" icon="&#xE869;" outcome="/utils" rendered="false"/>
                        <p:menuitem id="um_doc" value="Documentation" icon="&#xE880;" outcome="/docs" rendered="false"/>
                    </pu:menu>

                    <h:form>
                        <p:fieldset legend="Filtrar" style="margin-left: 0.5em; margin-right: 0.5em"
                                    rendered="#{request.requestURI.contains('concepts.')}">

                            <div class="ui-g ui-fluid">
                                <div class="ui-g-12">
                                    <span>Categorías</span>
                                </div>
                                <div class="ui-g-12">
                                    <p:selectCheckboxMenu id="menu2"
                                                          converter="omnifaces.SelectItemsConverter"
                                                          value="#{browserBean.browserQuery.categories}"
                                                          label="Seleccione..." style="width: 95%"
                                                          filter="true" filterMatchMode="startsWith">
                                        <f:selectItems value="#{browserBean.categories}" var="category"
                                                       itemLabel="#{category.name}" itemValue="#{category}"/>
                                        <p:ajax event="toggleSelect" update="@(.conceptTable),@(.filterStatus)" listener="#{browserBean.setFilterChanged(true)}" />
                                        <p:ajax update="@(.conceptTable),@(.filterStatus)" listener="#{browserBean.setFilterChanged(true)}" />
                                    </p:selectCheckboxMenu>
                                </div>
                                <div class="ui-g-12">
                                    <span>Etiquetas</span>
                                </div>
                                <div class="ui-g-12">
                                    <p:selectCheckboxMenu id="tags2"
                                                          value="#{browserBean.browserQuery.tags}"
                                                          converter="omnifaces.SelectItemsConverter"
                                                          label="Seleccione..."
                                                          style="width: 95%"
                                                          filter="true"
                                                          filterMatchMode="startsWith">
                                        <p:ajax event="change" update="@(.conceptTable),@(.filterStatus)" listener="#{browserBean.setFilterChanged(true)}" />
                                        <p:ajax event="toggleSelect" update="@(.conceptTable),@(.filterStatus)" listener="#{browserBean.setFilterChanged(true)}" />

                                        <f:selectItems value="#{browserBean.tags}" var="tag"
                                                       itemLabel="#{tag.name}" itemValue="#{tag}"/>
                                    </p:selectCheckboxMenu>
                                </div>
                            </div>
                        </p:fieldset>
                        <p:fieldset legend="Ordenar" style="margin-left: 0.5em; margin-right: 0.5em"
                                    rendered="#{request.requestURI.contains('concepts')}">

                            <div class="ui-g ui-fluid">
                                <div class="ui-g-12">
                                    <span><h:outputText value="Criterio" /></span>
                                </div>
                                <div class="ui-g-12">
                                    <p:selectOneRadio value="#{browserBean.browserQuery.order}" layout="responsive" columns="1">
                                        <f:selectItem itemLabel="ConceptID" itemValue="1" />
                                        <f:selectItem itemLabel="Término" itemValue="2" />
                                        <p:ajax event="change"
                                                update="@(.browserFilters),@(.browserTable)"
                                                process="@this"/>
                                    </p:selectOneRadio>
                                </div>
                                <div class="ui-g-12">
                                    <span><h:outputText value="Orden" /></span>
                                </div>
                                <div class="ui-g-12">
                                    <p:selectOneRadio value="#{browserBean.browserQuery.asc}" layout="responsive" columns="1">
                                        <f:selectItem itemLabel="Asc" itemValue="asc" />
                                        <f:selectItem itemLabel="Desc" itemValue="desc" />
                                        <p:ajax event="change"
                                                update="@(.browserFilters),@(.browserTable)"
                                                process="@this"/>
                                    </p:selectOneRadio>
                                </div>
                            </div>
                        </p:fieldset>

                    </h:form>
                </div>
            </div>
        </div>
    </h:form>
</ui:composition>